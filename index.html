<!DOCTYPE HTML>

<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- <meta name="viewport" content="width=560, user-scalable=0"> -->
<!--meta name="viewport" content="width=700; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=0;"-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<title>Slydr - working</title>

<link rel="stylesheet" href="main.css" />
<link rel="stylesheet" href="slydr.css" />

<!-- <script type="text/javascript" src="slydr.js"></script> -->
<script type="module">
	import { Slydr } from './slydr.js';

	window.Slydr = Slydr;

	var pct = document.getElementById('percent');
	var cb = o => {
		// console.log('>> obj', o);
		// console.log('> context',this);
		pct.innerHTML = `${Math.round(o.value)}%`;
		// $pct.text(Math.round(o.percent)+'%');
		// document.getElementById('percent').innerHTML = o.id+': '+Math.round(o.value) + '%';
	};
	var options = {
		'start-at': 65,
		height: 14,
		width: 600,
		unit: 'px',
		// image: 'img/knob_.png',
		snap: {
			// 'marks': true,
			// 'type': 'hard',
			// 'sensitivity': 3,
			// points: 7
		},
		'color-shift': true,
		vertical: true,
		// buttons: true,
		'custom-ange': [-58,132],
		// disabled: true,
		// no-handle: true,
		retina: true,
		flag: true
	};
	
	// LAUNCH IT
	setTimeout(() => {
		var nodes = document.getElementsByClassName('slider_bar');
		// var nodes = document.getElementsByClassName('slider_bar');

		for (const el of nodes){
			new Slydr(el, options).on('ready', function(data){
				// console.log('>> loaded', this);
				// this.destroy();
				document.getElementById('container').style.visibility = 'visible';
			}).on('drag', cb);

			options['start-at'] = 35;
			options.image = 'img/knob_.png';
		}
	}, 0);

	/* setTimeout(() => {
		console.log('Slydr proto', Slydr.prototype);
		Slydr.entries[1].on('shit', function(x) {
			console.log('>> shit', x);
		})
	}, 4000); */
</script>

</head><body>

	<div id="container" style="visibility: hidden;">
		<div class="slider_bar"></div><br /><br /><br />
		<div class="slider_bar"></div>
		<!-- <br><input type="text" value="asdljkas dlkajsd lakjs dlasjd" /> -->
	</div>
	<div id="percent">%</div>

</body></html>