<!DOCTYPE HTML>

<html><head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<!-- <meta name="viewport" content="width=560, user-scalable=0"> -->
<!--meta name="viewport" content="width=700; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=0;"-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<title>Slydr - working</title>

<link rel="stylesheet" href="main.css" />
<link rel="stylesheet" href="slydr.css" />

<style>
	/*#slider1 {transform-origin: 460px 260px !important;}*/
	/*#slider2 {margin: -130px -290px !important;}*/
	/*#slider1 {margin-left: 60px !important;}*/
	/*.slider_knob {background-color: #ccc !important;}*/
	/* .trak { background-color: #363; } */
	/*#slider1_vert-marks {margin-left: 60px !important;}*/
</style>

<script type="text/javascript" src="slydr.js"></script>

<script type="text/javascript">
	function run(){
		var pct = document.getElementById('percent');
		var cb = function(o){
			console.log('>> obj, data', this, o);
			// console.log('> context',this);
			pct.innerHTML = `${Math.round(o.percent)}%`;
			// $pct.text(Math.round(o.percent)+'%');
			// document.getElementById('percent').innerHTML = o.id+': '+Math.round(o.value) + '%';
		};
		var options = {
			'startAt': 65,
			'height': 14,
			'width': 600,
			'unit': 'px',
			'image': 'img/knob_.png',
			// 'pill': false,
			'snap': {
				'marks': true,
				// 'type': 'hard',
				// 'sensitivity': 3,
				'points': 7
			},
			'color-shift': ['#3a4d31', '#7bb560'],
			// 'vertical': true,
			'buttons': true,
			'custom-ange': [-58,132],
			// 'disabled': true,
			// 'no-handle': true,
			'retina': true,
			// 'drag': cb,
			// 'onSnap': cb,
			// 'onButton': cb
			'events': {
				// 'onDrag': cb,
				'onSnap': cb,
				'onBtnClick': cb
			}
		};

		// LAUNCH IT
		{
			var nodes = document.querySelectorAll('.slider_bar');
			// var nodes = document.getElementsByClassName('slider_bar');

			for (const el of nodes){
				new Slydr(el, options).ready(function(data){
					console.log('>> loaded', this);
					// this.startAt(15);
					// this.destroy();
					// data.percent = 15;
					// cb.call(this, data);
					document.getElementById('container').style.visibility = 'visible';
				});
				options.startAt = 35;
			}
		}
	};
</script>

</head><body onload="run()">

	<div id="container" style="visibility: hidden;">
		<div class="slider_bar"></div><br /><br /><br />
		<div class="slider_bar"></div>
		<!-- <br><input type="text" value="asdljkas dlkajsd lakjs dlasjd" /> -->
	</div>
	<div id="percent">%</div>

</body></html>